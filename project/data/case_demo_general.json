{
	"contacts": [
		{
			"id": "npc1",
			"name": "DemoNPC",
			"avatar": "res://assets/avatars/david.jpg",
			"timing": {
				"npc_reaction_delay": 0.80000000000000004,
				"npc_typing_min": 0.20000000000000001,
				"npc_typing_max": 0.59999999999999998,
				"npc_between_msgs": 0.40000000000000002,
				"typing_per_char": 0.014999999999999999
			}
		},
		{
			"id": "npc2",
			"name": "Pilar (CM)",
			"avatar": "res://assets/avatars/pilar.jpg",
			"requires": [
				"contact_npc2_unlocked"
			],
			"timing": {
				"npc_reaction_delay": 0.40000000000000002,
				"npc_typing_min": 0.14999999999999999,
				"npc_typing_max": 0.5,
				"npc_between_msgs": 0.25,
				"typing_per_char": 0.012
			}
		}
	],
	"chats": {
		"npc1": {
			"history": [
				{
					"from": "DemoNPC",
					"text": "ðŸ‘‹ Hola, soy el contacto definido en 'contacts'."
				},
				{
					"from": "Yo",
					"text": "Este histÃ³rico viene de 'chats[npc1].history'."
				},
				{
					"from": "DemoNPC",
					"text": "AquÃ­ probaremos options, pruebas, galerÃ­a, desbloqueos y *repetibles*."
				}
			],
			"options": [
				{
					"id": "accept_case",
					"text": "Probar 'options' (y obtener una prueba)",
					"effects": [
						"give_evidence:flyer_demo"
					],
					"npc_reply": [
						"Perfecto, acabas de usar 'options'.",
						"Te he dado una prueba llamada 'flyer_demo'. Prueba el botÃ³n + para presentarla."
					]
				},
				{
					"id": "unlock_gallery_item",
					"text": "Desbloquear una foto de la galerÃ­a",
					"effects": [
						"unlock_gallery:foto_evento"
					],
					"npc_reply": [
						"Acabo de desbloquear 'foto_evento' en tu galerÃ­a. Ve a la galerÃ­a para verla."
					]
				},
				{
					"id": "add_new_contact",
					"text": "AÃ±adir a Pilar (nuevo contacto)",
					"effects": [
						"unlock_contact:npc2"
					],
					"npc_reply": [
						"Listo. He aÃ±adido a Pilar al caso. Ya puedes escribirle (aparece como nuevo contacto)."
					]
				},
				{
					"id": "ask_time",
					"text": "Â¿QuÃ© hora es? (repetible âˆž)",
					"repeatable": true,
					"npc_reply": [
						"Son las HH:MM (demo). Esta opciÃ³n es *repetible infinita*."
					]
				},
				{
					"id": "ask_hint_limited",
					"text": "Dame una pista (mÃ¡x 2)",
					"max_uses": 2.0,
					"npc_reply": [
						"Pista: las opciones pueden ser limitadas con 'max_uses'. Te quedan menos usos."
					]
				},
				{
					"id": "status_first",
					"text": "Resumen del caso (primera vez)",
					"requires": [
						"!asked_status_once"
					],
					"effects": [
						"asked_status_once"
					],
					"npc_reply": [
						"Resumen inicial: este es tu primer resumen. A partir de ahora verÃ¡s otra respuesta."
					]
				},
				{
					"id": "status_repeat",
					"text": "Resumen del caso (repetible tras la 1Âª vez)",
					"requires": [
						"asked_status_once"
					],
					"repeatable": true,
					"npc_reply": [
						"Resumen corto (repetible): esto demuestra cambio de comportamiento tras la 1Âª vez."
					]
				},
				{
					"id": "status",
					"text": "Â¿QuÃ© mÃ¡s se puede mostrar?",
					"npc_reply": [
						"TambiÃ©n existe el modo 'replies' legacy si no defines options.",
						"Las pruebas dependen de si las posees (inventario).",
						"Los tiempos de respuesta pueden personalizarse por persona con 'contacts[*].timing'.",
						"Y como has visto, hay opciones *repetibles* y con *lÃ­mite de usos*."
					]
				}
			]
		},
		"npc2": {
			"history": [
				{
					"from": "Pilar (CM)",
					"text": "Â¡Hola! Aparezco porque me han desbloqueado con 'unlock_contact:npc2'."
				}
			],
			"options": [
				{
					"id": "ask_cm_asset",
					"text": "Â¿Tienes una imagen para la nota?",
					"effects": [
						"unlock_gallery:nota_borrador"
					],
					"npc_reply": [
						"Te paso un borrador a la galerÃ­a ('nota_borrador'). Ã‰chale un ojo."
					]
				},
				{
					"id": "cm_quick_check",
					"text": "Â¿Sigue bien el plan? (repetible âˆž)",
					"repeatable": true,
					"npc_reply": [
						"SÃ­, el plan sigue OK. Esta es otra opciÃ³n *repetible infinita*."
					]
				}
			]
		}
	},
	"replies": {
		"npc1": [
			"OpciÃ³n legacy desde 'replies'",
			"Otra opciÃ³n sin lÃ³gica avanzada"
		]
	},
	"evidence": [
		{
			"id": "flyer_demo",
			"name": "Flyer de ejemplo",
			"reactions": {
				"npc1": {
					"text": "Te presento una prueba.",
					"npc_reply": [
						"Genial, esa prueba proviene de 'evidence'.",
						"Gracias. De paso te desbloqueo una foto extra en la galeria."
					],
					"effects": [
						"unlock_gallery:foto_evento"
					]
				},
				"npc2": {
					"text": "Te presento la misma prueba (para Pilar).",
					"npc_reply": [
						"Â¡Perfecto! Esto nos sirve para la comunicaciÃ³n."
					]
				}
			}
		}
	],
	"gallery": [
		"res://assets/case/gatos/cats/move_notice.png",
		{
			"id": "foto_evento",
			"path": "res://assets/case/gatos/cats/auri.jpg",
			"requires": [
				"unlocked_foto_evento"
			]
		},
		{
			"id": "nota_borrador",
			"path": "res://assets/case/gatos/cats/cosmo.jpg",
			"requires": [
				"unlocked_nota_borrador"
			]
		}
	]
}
