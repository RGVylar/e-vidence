{
  "contacts": [
    {
      "id": "npc1",
      "name": "DemoNPC",
      "avatar": "res://assets/avatars/silva.jpg",
      "timing": {
        "npc_reaction_delay": 0.8,
        "npc_typing_min": 0.2,
        "npc_typing_max": 0.6,
        "npc_between_msgs": 0.4,
        "typing_per_char": 0.015
      }
    },
    {
      "id": "npc2",
      "name": "Pilar (CM)",
      "avatar": "res://assets/avatars/pilar.jpg",
      "requires": ["contact_npc2_unlocked"],
      "timing": {
        "npc_reaction_delay": 0.4,
        "npc_typing_min": 0.15,
        "npc_typing_max": 0.5,
        "npc_between_msgs": 0.25,
        "typing_per_char": 0.012
      }
    }
  ],

  "chats": {
    "npc1": {
      "history": [
        { "from": "DemoNPC", "text": "üëã Hola, soy el contacto definido en 'contacts'." },
        { "from": "Yo",      "text": "Este hist√≥rico viene de 'chats[npc1].history'." },
        { "from": "DemoNPC", "text": "Aqu√≠ probaremos options, pruebas, galer√≠a y desbloqueos." }
      ],
      "options": [
        {
          "id": "accept_case",
          "text": "Probar 'options' (y obtener una prueba)",
          "effects": ["give_evidence:flyer_demo"],
          "npc_reply": [
            "Perfecto, acabas de usar 'options'.",
            "Te he dado una prueba llamada 'flyer_demo'. Prueba el bot√≥n + para presentarla."
          ]
        },
        {
          "id": "unlock_gallery_item",
          "text": "Desbloquear una foto de la galer√≠a",
          "effects": ["unlock_gallery:foto_evento"],
          "npc_reply": [
            "Acabo de desbloquear 'foto_evento' en tu galer√≠a. Ve a la galer√≠a para verla."
          ]
        },
        {
          "id": "add_new_contact",
          "text": "A√±adir a Pilar (nuevo contacto)",
          "effects": ["unlock_contact:npc2"],
          "npc_reply": [
            "Listo. He a√±adido a Pilar al caso. Ya puedes escribirle (aparece como nuevo contacto)."
          ]
        },
        {
          "id": "status",
          "text": "¬øQu√© m√°s se puede mostrar?",
          "npc_reply": [
            "Tambi√©n existe el modo 'replies' legacy si no defines options.",
            "Las pruebas dependen de si las posees (inventario).",
            "Los tiempos de respuesta pueden personalizarse por persona con 'contacts[*].timing'."
          ]
        }
      ]
    },

    "npc2": {
      "history": [
        { "from": "Pilar (CM)", "text": "¬°Hola! Aparezco porque me han desbloqueado con 'unlock_contact:npc2'." }
      ],
      "options": [
        {
          "id": "ask_cm_asset",
          "text": "¬øTienes una imagen para la nota?",
          "effects": ["unlock_gallery:nota_borrador"],
          "npc_reply": [
            "Te paso un borrador a la galer√≠a ('nota_borrador'). √âchale un ojo."
          ]
        }
      ]
    }
  },

  "replies": {
    "npc1": [
      "Opci√≥n legacy desde 'replies'",
      "Otra opci√≥n sin l√≥gica avanzada"
    ]
  },

  "evidence": [
    {
      "id": "flyer_demo",
      "name": "Flyer de ejemplo",
      "reactions": {
        "npc1": {
          "text": "Te presento una prueba.",
          "npc_reply": [
            "Genial, esa prueba proviene de 'evidence'.",
            "Gracias. De paso te desbloqueo una foto extra."
          ],
          "effects": ["unlock_gallery:foto_evento"]
        },
        "npc2": {
          "text": "Te presento la misma prueba (para Pilar).",
          "npc_reply": [
            "¬°Perfecto! Esto nos sirve para la comunicaci√≥n."
          ]
        }
      }
    }
  ],

  "gallery": [
    "res://assets/case/demo/demo_photo1.png",
    { "id": "foto_evento",   "path": "res://assets/case/gatos/cats/auri.jpg", "requires": ["unlocked_foto_evento"] },
    { "id": "nota_borrador", "path": "res://assets/case/gatos/cats/cosmo.jpg",  "requires": ["unlocked_nota_borrador"] }
  ]
}
